{{>partial_header}}
syntax = "proto2";

package {{customOptionsPackage}};

import "google/protobuf/descriptor.proto";

{{#optionCategories}}
message {{classname}} {

  {{#vars}}
  {{#description}}
  // {{{.}}}
  {{/description}}
  {{^isEnum}}
  {{#vendorExtensions.x-protobuf-type}}{{{.}}} {{/vendorExtensions.x-protobuf-type}}{{{vendorExtensions.x-protobuf-data-type}}} {{{vendorExtensions.x-protobuf-name}}} = {{vendorExtensions.x-protobuf-index}};
  {{/isEnum}}
  {{#isEnum}}
  enum {{enumName}} {
    {{#allowableValues}}
    {{#enumVars}}
    {{#enumDescription}}
    // {{{.}}}
    {{/enumDescription}}
    {{{name}}} = {{{protobuf-enum-index}}};
    {{/enumVars}}
    {{/allowableValues}}
  }

  {{#vendorExtensions.x-protobuf-type}}{{{.}}} {{/vendorExtensions.x-protobuf-type}}{{enumName}} {{{vendorExtensions.x-protobuf-name}}} = {{vendorExtensions.x-protobuf-index}};
  {{/isEnum}}

  {{/vars}}
}

{{/optionCategories}}

extend google.protobuf.FieldOptions {
  {{#customOptions}}
  {{^isEnum}}
  {{#vendorExtensions.x-protobuf-type}}{{{.}}} {{/vendorExtensions.x-protobuf-type}}{{{vendorExtensions.x-protobuf-data-type}}} {{{vendorExtensions.x-protobuf-name}}} = {{vendorExtensions.x-protobuf-index}};
  {{/isEnum}}
  {{#isEnum}}
  enum {{enumName}} {
    {{#allowableValues}}
    {{#enumVars}}
    {{#enumDescription}}
    // {{{.}}}
    {{/enumDescription}}
    {{{name}}} = {{{protobuf-enum-index}}};
    {{/enumVars}}
    {{/allowableValues}}
  }

  {{#vendorExtensions.x-protobuf-type}}{{{.}}} {{/vendorExtensions.x-protobuf-type}}{{enumName}} {{{vendorExtensions.x-protobuf-name}}} = {{vendorExtensions.x-protobuf-index}};
  {{/isEnum}}
  {{/customOptions}}
}